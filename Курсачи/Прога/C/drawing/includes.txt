Глобальные переменные - в .c, далее где используются (в .c тоже) - продублировать с extern

#include логика:
каждый .c имеет .h
в этом .c есть #include своего .h в самом верху
далее в этом .c глобальные переменные с extern и определения функций
соответствующий .h содержит инклюды используемых библиотек (<*.h> и "*.h"),
потом там же объявления функций
всё это внутри #ifndef, #define, #endif